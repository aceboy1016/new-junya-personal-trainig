# JUNYA ISHIHARA WordPress ブログ統合セットアップガイド

このガイドでは、Sanity CMSを使用したブログ機能をJunya Luxury TrainingのWordPressテーマに統合する方法を説明します。

## 📋 完了したファイル

以下のファイルが追加・更新されました：

### 新規作成ファイル
- `page-blog.php` - Sanityブログ一覧ページテンプレート
- `page-blog-post.php` - Sanity個別ブログ記事ページテンプレート
- `BLOG_SETUP.md` - このセットアップガイド

### 更新ファイル
- `header.php` - ナビゲーションメニューにBLOGリンクを追加

## 🚀 セットアップ手順

### ステップ1: WordPressページの作成

1. **WordPress管理画面**にログイン
2. **固定ページ** → **新規追加**
3. **ブログ一覧ページ**を作成：
   - ページタイトル: `ブログ`
   - スラッグ: `blog`
   - ページテンプレート: `Sanity Blog Page`
   - 公開状態: `公開`

4. **個別記事ページ用**（オプション）：
   - ページタイトル: `Blog Post`
   - スラッグ: `blog-post`
   - ページテンプレート: `Sanity Blog Post`
   - 公開状態: `公開`

### ステップ2: メニューの設定

1. **外観** → **メニュー**
2. **Primary Menu**を選択（または新規作成）
3. **カスタムリンク**を追加：
   - URL: `/blog/`
   - リンクテキスト: `BLOG`
4. メニューの順序を調整（HOME、ABOUT、SERVICE、PRICE、BLOG、CONTACTの順番を推奨）
5. **メニューを保存**

### ステップ3: パーマリンク設定の確認

1. **設定** → **パーマリンク**
2. **投稿名**または**カスタム構造**を選択
3. **変更を保存**

### ステップ4: Sanity設定の確認

現在のSanity設定：
- **プロジェクトID**: `8gquylv3`
- **データセット**: `production`
- **APIバージョン**: `2024-01-01`

これらの設定は以下のファイルにハードコードされています：
- `page-blog.php`（142行目）
- `page-blog-post.php`（74行目）

## 🔧 カスタマイズ

### Sanity設定の変更

別のSanityプロジェクトを使用する場合：

1. `page-blog.php`の142-147行目を編集
2. `page-blog-post.php`の74-79行目を編集

```javascript
const SANITY_CONFIG = {
    projectId: 'あなたのプロジェクトID',
    dataset: 'production',
    apiVersion: '2024-01-01',
    useCdn: true
};
```

### デザインのカスタマイズ

ブログページのデザインは以下で調整できます：

- **カラー**: `#F59E0B`（金色）をベースとしたJUNYAブランドカラー
- **フォント**: Tailwind CSSクラスを使用
- **レイアウト**: レスポンシブデザイン対応

### URL構造

現在の設定では以下のURL構造になります：

- ブログ一覧: `https://yoursite.com/blog/`
- 個別記事: `https://yoursite.com/blog/{記事スラッグ}/`

## 📱 機能一覧

### ブログ一覧ページ（page-blog.php）

✅ **完了済み機能**：
- Sanity APIからの記事取得
- 注目記事の表示
- カテゴリフィルター
- レスポンシブカードレイアウト
- ローディング状態の表示
- エラーハンドリング
- データがない場合の準備中画面

### 個別記事ページ（page-blog-post.php）

✅ **完了済み機能**：
- URLスラッグから記事取得
- パンくずナビゲーション
- カテゴリバッジ表示
- 著者情報
- シェアボタン（Twitter、Facebook、リンクコピー）
- アイキャッチ画像表示
- Portable Text → HTML変換
- タグ表示
- 関連記事表示
- メタデータ（公開日、更新日、閲覧数）

## 🎨 デザイン特徴

- **JUNYAブランド**に合わせた金色（#F59E0B）を基調としたデザイン
- **高級感**あるガラス効果とグラデーション
- **モダンな**カードレイアウト
- **アニメーション**効果（ホバー、スクロール）
- **アクセシビリティ**に配慮した設計

## 🔍 SEO対応

- **メタタイトル**の動的生成
- **OGP対応**（記事タイトル、抜粋、アイキャッチ画像）
- **構造化データ**対応（準備済み）
- **パンくずナビゲーション**
- **セマンティックHTML**の使用

## 📊 Analytics対応

- **Google Analytics**イベント追跡（準備済み）
- **記事閲覧数**カウント（Sanity側で実装）
- **ソーシャルシェア**追跡

## 🚨 注意事項

1. **Sanityアクセス**: インターネット接続が必要
2. **CORS設定**: Sanityプロジェクトでドメインを許可する必要がある場合があります
3. **キャッシュ**: ブラウザキャッシュの影響で更新が反映されない場合があります
4. **JavaScript必須**: ブログ機能はJavaScriptに依存しています

## 🔄 メンテナンス

### 定期的な確認項目

- [ ] Sanity APIの接続状況
- [ ] 記事の表示確認
- [ ] 画像の読み込み確認
- [ ] レスポンシブデザインの確認
- [ ] ソーシャルシェアの動作確認

### トラブルシューティング

**記事が表示されない場合**：
1. ブラウザの開発者ツールでコンソールエラーを確認
2. Sanity Studio で記事の公開状態を確認
3. ネットワーク接続を確認

**スタイルが崩れる場合**：
1. Tailwind CSSの読み込みを確認
2. テーマのCSSファイルを確認
3. ブラウザキャッシュをクリア

## 🎯 今後の拡張予定

- [ ] 検索機能の実装
- [ ] コメント機能の統合
- [ ] ページネーション
- [ ] 記事の印刷機能
- [ ] お気に入り機能
- [ ] RSSフィード生成

## 📞 サポート

設定や使用方法で問題が発生した場合は、以下を確認してください：

1. **WordPress Version**: 5.0以上
2. **PHP Version**: 7.4以上
3. **ブラウザ**: 現代的なブラウザ（Chrome、Firefox、Safari、Edge）
4. **JavaScript**: 有効になっていること

---

**設定完了チェックリスト**：

- [ ] ブログページ（/blog/）が正常に表示される
- [ ] Sanityから記事データが取得される  
- [ ] ナビゲーションメニューにBLOGリンクが表示される
- [ ] カテゴリフィルターが動作する
- [ ] 個別記事ページが正常に表示される
- [ ] レスポンシブデザインが適用される
- [ ] ソーシャルシェア機能が動作する

すべてのチェックボックスにチェックが入れば、ブログ機能の統合は完了です！